#!/usr/bin/env python3
"""
Quick migration command for legacy agents.
Usage: ./migrate [--fix] [--dry-run]
"""

import sys
import subprocess
import os

def main():
    # Get the directory where this script is located
    script_dir = os.path.dirname(os.path.abspath(__file__))
    migrator_path = os.path.join(script_dir, 'scripts', 'migrate_legacy_agents.py')
    
    # Pass through all arguments to the migration script
    cmd = [sys.executable, migrator_path] + sys.argv[1:]
    
    try:
        subprocess.run(cmd, check=True)
    except subprocess.CalledProcessError as e:
        sys.exit(e.returncode)
    except KeyboardInterrupt:
        print("\nðŸš« Migration cancelled by user")
        sys.exit(1)

if __name__ == '__main__':
    main()